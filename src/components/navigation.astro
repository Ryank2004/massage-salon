---
const currentPage = Astro.url.pathname;
---

<div class="main-content">
  <div class="header-container">
    <a aria-label="Terug naar de homepagina" href="/">
      <svg
        width="60px"
        height="60px"
        viewBox="0 0 126 126"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M82 35.36V36.96L50.08 90.16H65.76C68.2667 90.16 70.2933 89.8933 71.84 89.36C73.44 88.8267 74.6933 88 75.6 86.88C76.56 85.7067 77.28 84.16 77.76 82.24C78.24 80.32 78.6133 77.9733 78.88 75.2H80.72C80.56 76.8533 80.48 79.04 80.48 81.76C80.48 82.7733 80.5067 84.24 80.56 86.16C80.6667 88.0267 80.8267 89.9733 81.04 92C79.0667 91.8933 76.9067 91.84 74.56 91.84C72.2133 91.7867 69.8667 91.76 67.52 91.76C65.2267 91.76 63.0933 91.76 61.12 91.76C57.9733 91.76 54.64 91.7867 51.12 91.84C47.6533 91.84 44.4 91.8933 41.36 92V90.4L73.52 37.2H57.92C55.4133 37.2 53.36 37.4667 51.76 38C50.2133 38.5333 48.96 39.3867 48 40.56C47.0933 41.68 46.4 43.2 45.92 45.12C45.44 47.04 45.0667 49.3867 44.8 52.16H42.96C43.0667 51.3067 43.12 50.32 43.12 49.2C43.1733 48.08 43.2 46.88 43.2 45.6C43.2 44.5867 43.1467 43.1467 43.04 41.28C42.9867 39.36 42.8533 37.3867 42.64 35.36C44.6133 35.4133 46.7733 35.4667 49.12 35.52C51.4667 35.5733 53.8133 35.6 56.16 35.6C58.5067 35.6 60.64 35.6 62.56 35.6C65.6 35.6 68.8533 35.6 72.32 35.6C75.84 35.5467 79.0667 35.4667 82 35.36ZM95.58 82.88C96.9667 82.88 98.1667 83.3867 99.18 84.4C100.193 85.4133 100.7 86.6133 100.7 88C100.7 89.3867 100.193 90.5867 99.18 91.6C98.1667 92.6133 96.9667 93.12 95.58 93.12C94.1933 93.12 92.9933 92.6133 91.98 91.6C90.9667 90.5867 90.46 89.3867 90.46 88C90.46 86.6133 90.9667 85.4133 91.98 84.4C92.9933 83.3867 94.1933 82.88 95.58 82.88Z"
          fill="#53584e"></path>
        <circle cx="63" cy="63" r="61" stroke="#53584e" stroke-width="4"
        ></circle>
      </svg>
    </a>
    <div class="hamburger-toggle">
      <p>menu</p>
      <div class="burger">
        <span class="burger-line"></span>
        <span class="burger-line"></span>
        <span class="burger-line"></span>
      </div>
    </div>
  </div>
</div>
<div class="nav-container">
  <div class="hamburger-toggle">
    <p>terug</p>
    <div class="burger">
      <span class="close-line"></span>
      <span class="close-line"></span>
    </div>
  </div>
  <ul class="menu">
    <li><a href="/" class={currentPage === "/" ? "active" : ""}>home</a></li>
    <li>
      <a
        href="/"
        class={currentPage === "/behandelingen" ? "active" : ""}
        >behandelingen</a
      >
    </li>
    <li>
      <a href="/" class={currentPage === "/over-ons" ? "active" : ""}
        >over ons</a
      >
    </li>
    <li>
      <a href="/" class={currentPage === "/boek" ? "active" : ""}>boek</a>
    </li>
  </ul>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggles = document.querySelectorAll(".hamburger-toggle"); // Pak alle toggle-buttons
    // const hamburgers = document.querySelectorAll(".burger");
    const nav = document.querySelector(".nav-container"); // Pak het menu

    if (nav && toggles.length > 0) {
      toggles.forEach((toggle, index) => {
        toggle.addEventListener("click", () => {
          // hamburgers.forEach(hamburger => hamburger.classList.toggle("is-active"));
          nav.classList.toggle("show"); // Toon/verberg menu
        });
      });
    }
  });
</script>

<style>
  .header-container {
    position: fixed;
    align-items: center;
    height: 70px;
    width: 100vw;
    margin: 20px 0;
    padding: 0 20px;
    display: flex;
    justify-content: space-between;
    z-index: 5;
  }

  .header-container a {
    width: 60px;
    height: 60px;
  }

  .burger {
    position: relative;
    display: block;
    cursor: pointer;
    user-select: none;
    width: 1.5rem;
    height: 1rem;
    border: none;
    outline: none;
    visibility: visible;
    color: black;
    z-index: 300;
  }

  .burger-line {
    position: absolute;
    display: block;
    right: 0;
    width: 100%;
    height: 2.15px;
    opacity: 1;
    rotate: 0deg;
    border-radius: 0.15rem;
    background-color: #53584e;
    transition: all 0.3s ease;

    &:nth-child(1) {
      top: 0px;
    }
    &:nth-child(2) {
      top: 0.5rem;
      width: 70%;
    }
    &:nth-child(3) {
      top: 1rem;
    }
  }

  .burger.is-active > .burger-line {
    &:nth-child(1) {
      top: 0.5rem;
      rotate: 135deg;
    }
    &:nth-child(2) {
      opacity: 0;
    }
    &:nth-child(3) {
      top: 0.5rem;
      rotate: -135deg;
    }
  }

  .hamburger-toggle {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 10px;
    color: #53584e;
    border-radius: 14px;
    /* padding: 5px 12px; */
    margin: 10px 0;
  }

  .nav-container .hamburger-toggle {
    margin-left: auto;
    min-height: 47px;
    height: 40px;
    color: var(--background-color);
  }

  .close-line {
    position: absolute;
    display: block;
    right: 0;
    width: 100%;
    height: 2.15px;
    opacity: 1;
    rotate: 0deg;
    border-radius: 0.15rem;
    background-color: var(--background-color);
    transition: all 0.3s ease;

    &:nth-child(1) {
      top: 0.5rem;
      rotate: 135deg;
    }

    &:nth-child(2) {
      top: 0.5rem;
      rotate: -135deg;
    }
  }

  .hamburger-toggle p {
    font-size: 20px;
  }

  .nav-container {
    display: flex;
    flex-direction: column;
    width: 100vw;
    height: 100vh;
    z-index: 20;
    position: fixed;
    left: -100%;
    background-color: var(--text-color);
    color: var(--background-color);
    padding: 20px;
    transition: left 0.4s cubic-bezier(0, 0, 0.145, 0.97);
  }

  .menu {
    display: flex;
    flex-direction: column;
    margin-left: 20px;
    list-style: none;
    font-size: 34px;
  }

  .menu li a {
    display: inline-block;
    margin: 10px 0;
    line-height: 1.4;
  }

  .menu li a.active {
    border-bottom: 2px solid var(--background-color);
  }

  .nav-container.show {
    left: 0;
  }

  @media screen and (min-width: 1080px) {
    .header-container {
      padding: 0 40px;
      height: 120px;
    }

    .header-container a {
      width: 80px;
      height: 80px;
    }

    .header-container svg {
      width: 80px;
      height: 80px;
    }

    .burger {
      scale: 1.4;
    }

    .nav-container {
      padding: 20px 40px;
    }

    .nav-container .hamburger-toggle {
      gap: 16px;
      height: 100px;
    }

    .hamburger-toggle p {
      font-size: 30px;
    }

    .menu {
      display: flex;
      margin-left: 0px;
      font-size: 72px;
    }

    .menu li a {
      transition: all 0.2s ease-out;
    }

    .menu li a:hover {
      margin-left: 40px;
    }
  }

  @media screen and (min-width: 1280px) {
    .header-container {
      padding: 0 60px;
      height: 140px;
    }

    .header-container a {
      width: 100px;
      height: 100px;
    }

    .header-container svg {
      width: 100px;
      height: 100px;
    }

    .burger {
      scale: 1.6;
    }

    .hamburger-toggle {
      gap: 20px;
    }

    .hamburger-toggle p {
      font-size: 34px;
    }
  }
</style>
